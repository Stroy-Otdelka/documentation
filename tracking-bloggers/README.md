# Сервис Tracking Bloggers

Сервис **Tracking Bloggers** отвечает за отслеживание показателей эффективности рекламы у блогеров на маркетплейсах *Wildberries* и *Ozon*. Он собирает данные о продажах, поисковых запросах и ценах товаров, а также информацию о просмотрах, лайках и комментариях к постам в социальных сетях. Сервис обновляет данные в Google Sheets и использует MongoDB для хранения информации.

## Функциональные возможности

- **Отслеживание продаж**: Сбор данных о продажах товаров до, во время и после рекламных кампаний.
- **Анализ поисковых запросов**: Получение статистики поисков товаров на Wildberries и Ozon за неделю до и после рекламы.
- **Получение цен**: Извлечение актуальных цен товаров с маркетплейсов.
- **Сбор данных из соцсетей**: Анализ охватов постов (просмотры, лайки, комментарии) в социальных сетях.
- **Обновление Google Sheets**: Автоматическая загрузка собранных данных в таблицы для анализа.
- **Асинхронная работа**: Быстрая обработка запросов к API маркетплейсов и базам данных.

## Начало работы

Вы можете запустить сервис локально или с использованием Docker. Следуйте приведенным ниже инструкциям для начала работы.

### Запуск локально

1. **Копирование и настройка переменных окружения**:

   - Скопируйте файл окружения-примера `.env-example` в `.env`:
   ```bash
   cp .env-example .env
   ```

   - Замените переменные в файле .env на ваши собственные данные (API-ключи для Wildberries и Ozon, настройки MongoDB, Google Cloud и т.д.).

2. **Установка зависимостей**:

    - Установите зависимости проекта с флагом для разработки:
   ```
   poetry install --with dev
   ```

3. **Запуск сервиса**:

    - Запустите основной файл сервиса:
    ```
   python3 main.py
   ```

## Запуск с использованием Docker

1. **Копирование и настройка переменных окружения**:
    - Скопируйте файл окружения-примера .env-example в .env-non-dev:
   ```
   cp .env-example .env-non-dev
   ```

   - Замените переменные в файле .env-non-dev на ваши собственные данные.

2. **Запуск сервиса с использованием Docker**:
    - Соберите и запустите Docker-контейнеры:
   ```
   docker-compose up --build -d
   ```
   
## Дополнительная информация

- Сервис использует MongoDB для хранения данных о товарах, заказах и поисковых запросах. Убедитесь, что переменные окружения для подключения к MongoDB настроены корректно (MONGO_HOST, MONGO_PORT, MONGO_USER, MONGO_PASS, MONGO_DB).


- Для работы с Google Sheets используется авторизация через Google Cloud. Настройте переменную GOOGLE_APPLICATION_CREDENTIALS с путем к файлу учетных данных.


- Поддерживаются API маркетплейсов Wildberries и Ozon. Убедитесь, что API-ключи указаны в конфигурации (API_KEYS).


- Для работы с соцсетями (например, Instagram) используется InstagramSocialClient. Настройте доступ к API соцсетей, если требуется.